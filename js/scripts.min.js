const inittedInputs=[];function findInittedInput(t,e=!1){const s=Array.from(document.querySelectorAll(t));if(e){return inittedInputs.filter(i)||null}return inittedInputs.find(i)||null;function i(t){return s.includes(t.rootElem)}}function createElement(t,e,s){let i=document.createElement(t);return e&&(i.className=e),s&&i.insertAdjacentHTML("afterbegin",s),i}class Cookie{constructor(t){this.onOkClick=this.onOkClick.bind(this),this.onLearnMoreClick=this.onLearnMoreClick.bind(this),this.rootElem=t,this.okButton=this.rootElem.querySelector(".cookie__button--ok"),this.learnMoreButton=this.rootElem.querySelector(".cookie__link--learn-more"),this.okButton.addEventListener("click",this.onOkClick),this.learnMoreButton.addEventListener("click",this.onLearnMoreClick)}onOkClick(){this.rootElem.remove()}onLearnMoreClick(){}}class ChooseTabs{constructor(t){this.tabChange=this.tabChange.bind(this),this.rootElem=t,this.tabs=this.rootElem.querySelectorAll("[data-tab-name]"),this.tabs.forEach((t=>t.addEventListener("click",this.tabChange)))}tabChange(t){const e=t.currentTarget;this.tabs.forEach((t=>{t!==e&&t.classList.remove("active"),e.classList.add("active")}));let s=findInittedInput(".resume__rubricks");s.show();let i="";switch(e.dataset.tabName){case"tab-1":i="соискатель";default:break;case"tab-2":i="работодатель"}s.setStatus(i)}}class Rubricks{constructor(t){this.onChange=this.onChange.bind(this),this.rootElem=t,this.limit=3,this.statusSpan=this.rootElem.querySelector(".rubricks__status"),this.checkboxesItems=Array.from(this.rootElem.querySelectorAll(".checkboxs__items_item")),this.rootElem.addEventListener("change",this.onChange)}show(){this.rootElem.classList.remove("none")}onChange(t){const e=t.target;Array.isArray(this.checked)||(this.checked=[]);const s=findInittedInput("#options");function i(t){t?s.show():s.hide()}(function(){if(e.checked)if(this.checked.length<this.limit)this.checked.push(e);else{e.checked=!1;this.checked.slice(this.limit).forEach((t=>t.checked=!1)),this.checked=this.checked.slice(0,this.limit)}else this.checked=this.checked.filter((t=>t!==e))}).call(this),this.checked.length>0?i(!0):i(!1),s.setRubricks()}setStatus(t){this.statusSpan.innerHTML="",this.statusSpan.insertAdjacentText("afterbegin",t)}}class Options{constructor(t){this.rootElem=t}show(){this.rootElem.classList.remove("none")}hide(){this.rootElem.classList.add("none")}setRubricks(){const t=this.rootElem.querySelector(".rubricks-categories").querySelector("span"),e=findInittedInput(".resume__rubricks").checked||[];let s="";e.forEach(((t,e,i)=>{s+=t.value,e!=i.length-1&&(s+=", ")})),t.innerHTML=s}}let inittingSelectors=[{selector:".cookie",classInstance:Cookie},{selector:".resume__choose",classInstance:ChooseTabs},{selector:".resume__rubricks",classInstance:Rubricks},{selector:"#options",classInstance:Options}];function initInputs(){inittingSelectors.forEach((t=>{const e=t.selector,s=t.classInstance;Array.from(document.querySelectorAll(e)).filter((e=>!Boolean(inittedInputs.find((s=>s.rootElem===e&&s instanceof t.classInstance))))).forEach((t=>{inittedInputs.push(new s(t))}))}))}const inittingInputsBodyObserver=new MutationObserver((()=>{initInputs()}));inittingInputsBodyObserver.observe(document.body,{childList:!0,subtree:!0}),initInputs();class TextInput{constructor(t){this.onInput=this.onInput.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.clear=this.clear.bind(this),this.rootElem=t,this.input=this.rootElem.querySelector(".text-input__input"),this.clearButton=this.rootElem.querySelector(".cross"),this.getSelectsWrap(),this.input.addEventListener("input",this.onInput),this.input.addEventListener("focus",this.onFocus),this.input.addEventListener("blur",this.onBlur),this.clearButton.addEventListener("click",this.clear)}getSelectsWrap(){this.selectsWrap=this.rootElem.querySelector(".selects-wrap"),this.selectsWrap&&(this.selectValues=Array.from(this.selectsWrap.querySelectorAll(".selects-wrap__option")),this.selectValues=this.selectValues.map((t=>({node:t,text:t.textContent||val.innerText}))),this.selectValues.forEach((t=>{t.node.addEventListener("click",(()=>{this.input.value=t.text,this.input.dispatchEvent(new Event("input"))}))})))}onInput(t){this.selectsWrap&&this.highlitMatches()}onBlur(){setTimeout((()=>{this.rootElem.classList.remove("open-selects")}),100)}onFocus(){this.rootElem.classList.add("open-selects")}highlitMatches(){const t=this.input.value.toLowerCase().trim();this.selectValues.find((e=>e.text.toLowerCase().trim()===t))?this.selectValues.forEach((t=>{t.node.classList.remove("none"),t.node.innerHTML=t.text})):this.selectValues.forEach((e=>{const s=e.text,i=s.toLowerCase().trim();if(i.includes(t)){e.node.classList.remove("none");const n=i.indexOf(t),o=n+t.length;let c=s.slice(0,n)+`<span class="highlight">${s.slice(n,o)}</span>`+s.slice(o);e.node.innerHTML=c}else e.node.classList.add("none")}))}clear(){this.input.value="",this.input.dispatchEvent(new Event("input"))}}let inputsInittingSelectors=[{selector:".text-input",classInstance:TextInput}];inittingSelectors=inittingSelectors.concat(inputsInittingSelectors);